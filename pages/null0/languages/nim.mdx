import Example from '@/Example'
import Callout from '@/Callout'
import Null0Cart from '@/Null0Cart'

<Callout emoji='n'>[Nim](https://nim-lang.org/) is a fun language that compiles to C (or C++, or a few more.) It feels a little like python or lua.</Callout>

- See [cart structure](/null0/cart) for more info about how callbacks work.
- See [API](/null0/api) for more info about the null0 API.
- See [examples](https://github.com/notnullgames/notnullgames/tree/main/examples/nim)
- You can use WASI too, so all regular C stdlib-file stuff should work.
- Check out the [Nim template project](https://github.com/notnullgames/cart_nim)
- You will need [wasi-sdk](https://github.com/WebAssembly/wasi-sdk) and [nim](https://nim-lang.org/) installed.
- The definitive header is [here](https://github.com/notnullgames/null0/blob/main/carts/nim/null0.nim), so use that to ensure yours is up-to-date

A simple cart might look like this:

<Example src='nim/circle/main.nim' />

<Null0Cart src='/carts/nim-circle.null0' />

And then you can compile to a cart with:

```shell
mkdir -p cart
curl https://raw.githubusercontent.com/notnullgames/null0/refs/heads/main/carts/nim/null0.nim > null0.nim
CC=/opt/wasi-sdk/bin/clang nim c --threads:off --noMain --cc:env -d:release -d:wasi -d:useMalloc --cpu:wasm32 --os:any --passC:"-D_WASI_EMULATED_SIGNAL" --passL:"-lwasi-emulated-signal" --passL:"-Wl,--allow-undefined" -o:cart/main.wasm main.nim
cd cart
zip -rq ../mygame.null0 .
```

See [build.sh](https://github.com/notnullgames/notnullgames/tree/main/examples/build.sh) for an example of how I build for this example-site.
